# AIC8800D80 Bluetooth - prevent generic btusb from claiming the device
#
# The kernel's built-in btusb driver matches any USB device with Bluetooth
# interface class (0xe0/0x01/0x01), but it doesn't know how to initialize
# the AIC8800 BT controller, resulting in HCI_Reset timeout errors.
#
# The AIC-specific aic_btusb module must handle these devices instead.

# Ensure aic_btusb loads before btusb can claim AIC devices
softdep btusb pre: aic_btusb

# Auto-load aic_btusb when the AIC8800 device is present
alias usb:v0A69Cp8D83d*dc*dsc*dp*icE0isc01ip01in* aic_btusb
alias usb:v0A69Cp8D81d*dc*dsc*dp*icE0isc01ip01in* aic_btusb
alias usb:v368Bp8D81d*dc*dsc*dp*icE0isc01ip01in* aic_btusb
